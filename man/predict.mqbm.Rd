% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/predict.mqbm.R
\name{predict.mqbm}
\alias{predict.mqbm}
\title{Predict quantiles from a symbol-based mqbm model}
\usage{
\method{predict}{mqbm}(object, newdata, multi = NULL, symbol = NULL, ...)
}
\arguments{
\item{object}{A fitted mqbm model object returned by \code{\link{mqbm}}.}

\item{newdata}{A data.frame or matrix of predictor variables. Must either
contain a column with the name specified by \code{object$multi} (default \code{"symbol"})
identifying which model to use for each observation, or \code{multi} must be provided
as a separate argument.}

\item{multi}{Optional character vector specifying which symbol-specific model
to use for each row of \code{newdata}. If \code{NULL} (default), the
function looks for a column named \code{object$multi} in \code{newdata}.
For backward compatibility, also accepts \code{symbol} as an argument name.
Must contain only symbols that were present in the training data.}

\item{symbol}{Deprecated. Use \code{multi} instead. Kept for backward compatibility.}

\item{...}{Additional arguments (currently unused).}
}
\value{
A numeric vector of length \code{nrow(newdata)} containing predicted
quantile values. Each prediction is generated by the symbol-specific model
corresponding to that observation's symbol identifier.
}
\description{
Routes predictions to the appropriate symbol-specific \code{\link{qbm}} model
based on the symbol identifier for each observation. Each prediction is generated
by the corresponding symbol's quantile regression model.
}
\details{
The prediction process:
\enumerate{
\item Extract or validate symbol identifiers for each observation
\item Verify all symbols exist in the trained models
\item Route each observation to its symbol-specific \code{\link{qbm}} model
\item Combine predictions maintaining original row order
}

Symbols in \code{newdata} must match those used during training. Unknown
symbols will trigger an error with a list of available symbols.
}
\examples{
\dontrun{
# Train multi-symbol model
df <- data.frame(
  x1 = rnorm(200),
  x2 = rnorm(200),
  symbol = sample(c("A", "B", "C"), 200, replace = TRUE)
)
df$y <- df$x1 * 0.5 + rnorm(200)
fit <- mqbm(y ~ x1 + x2, data = df, tau = 0.5, nrounds = 50)

# Method 1: Symbol in newdata
newdata_with_symbol <- data.frame(
  x1 = c(0, 1, -1),
  x2 = c(0, 0, 1),
  symbol = c("A", "B", "A")
)
predict(fit, newdata_with_symbol)

# Method 2: Symbol as separate argument
newdata_no_symbol <- data.frame(
  x1 = c(0, 1, -1),
  x2 = c(0, 0, 1)
)
symbols <- c("A", "B", "C")
predict(fit, newdata_no_symbol, symbol = symbols)

# Predictions automatically use correct symbol-specific model
# Each row gets prediction from its designated symbol model
}

}
\seealso{
\code{\link{mqbm}}, \code{\link{predict.qbm}}, \code{\link{fitted.mqbm}},
\code{\link{residuals.mqbm}}
}
